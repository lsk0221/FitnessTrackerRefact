# CustomAlert 替换检查清单
## Alert Replacement Checklist

本清单用于验证所有系统级 Alert 已成功替换为 CustomAlert 组件。

---

## ✅ 检查前准备

- [ ] 确保 App 已成功编译并运行
- [ ] 确保所有依赖已正确安装
- [ ] 准备测试账号（用于需要登录的功能）

---

## 📱 1. 登录/认证模块 (Auth)

### LoginScreen.tsx

#### 1.1 表单验证错误
- [ ] **操作**：在登录页面，不填写任何信息直接点击登录/注册
- [ ] **预期**：显示 CustomAlert，标题为"錯誤"，内容为"請填寫所有欄位"
- [ ] **样式检查**：Alert 使用 App 主题颜色，不是系统原生样式

#### 1.2 注册时缺少姓名
- [ ] **操作**：切换到注册模式，填写邮箱和密码但不填写姓名，点击注册
- [ ] **预期**：显示 CustomAlert，提示"請填寫姓名"

#### 1.3 账号已存在错误
- [ ] **操作**：尝试注册一个已存在的邮箱
- [ ] **预期**：显示 CustomAlert（ActionSheet 样式），提供"切換到登入"选项

#### 1.4 登录失败错误
- [ ] **操作**：使用错误的密码登录
- [ ] **预期**：显示 CustomAlert（ActionSheet 样式），提供"使用本地模式"、"切換到註冊"、"重試"选项

#### 1.5 清除数据功能（开发用）
- [ ] **操作**：点击"清除所有數據"按钮
- [ ] **预期**：显示 CustomAlert，提示"成功"或"錯誤"

---

## 🏋️ 2. 快速记录模块 (Quick Log)

### QuickLogScreen.tsx

#### 2.1 添加练习错误
- [ ] **操作**：点击右上角"+"按钮，尝试添加一个已存在的练习
- [ ] **预期**：显示 CustomAlert，提示错误信息

#### 2.2 保存成功提示
- [ ] **操作**：填写一些训练数据，点击底部"批量保存"按钮
- [ ] **预期**：显示 CustomAlert，标题为"成功"，显示保存的训练数量

#### 2.3 无数据提示
- [ ] **操作**：不填写任何数据，直接点击"批量保存"
- [ ] **预期**：显示 CustomAlert，提示"沒有數據"或"No workouts to save"

#### 2.4 保存失败错误
- [ ] **操作**：在无网络或错误状态下尝试保存
- [ ] **预期**：显示 CustomAlert，提示"保存失敗"

#### 2.5 删除练习提示（TODO 功能）
- [ ] **操作**：点击练习卡片上的删除按钮
- [ ] **预期**：显示 CustomAlert，提示"Delete functionality coming soon"

---

## 📅 3. 训练历史模块 (Workout History)

### HistoryScreen.tsx (通过 useWorkoutHistory hook)

#### 3.1 选择日期前添加训练
- [ ] **操作**：在日历页面，不选择日期，直接点击添加训练
- [ ] **预期**：显示 CustomAlert，提示"請先選擇日期"

#### 3.2 编辑训练验证
- [ ] **操作**：尝试编辑一个无效的训练记录
- [ ] **预期**：显示 CustomAlert，提示"無法編輯此訓練記錄"

#### 3.3 删除训练确认
- [ ] **操作**：选择一个训练记录，点击删除
- [ ] **预期**：显示 CustomAlert（确认对话框），标题为"確認刪除"，提供"取消"和"刪除"按钮
- [ ] **样式检查**："刪除"按钮应为红色（destructive 样式）

#### 3.4 删除成功提示
- [ ] **操作**：确认删除一个训练记录
- [ ] **预期**：显示 CustomAlert，提示"訓練記錄已刪除"

#### 3.5 删除失败错误
- [ ] **操作**：在错误状态下尝试删除训练
- [ ] **预期**：显示 CustomAlert，提示删除失败

#### 3.6 保存编辑验证
- [ ] **操作**：编辑训练记录时，不填写必填字段，点击保存
- [ ] **预期**：显示 CustomAlert，提示"請填寫所有欄位"

#### 3.7 保存编辑成功
- [ ] **操作**：正确填写所有字段，保存编辑
- [ ] **预期**：显示 CustomAlert，提示"訓練記錄已更新"或"訓練記錄已添加"

#### 3.8 保存编辑失败
- [ ] **操作**：在错误状态下尝试保存编辑
- [ ] **预期**：显示 CustomAlert，提示保存失败

---

## 📊 4. 进度追踪模块 (Progress)

### ProgressChartScreen.tsx (通过 useProgress hook)

#### 4.1 未选择练习提示
- [ ] **操作**：不选择任何练习，直接点击"設定目標重量"按钮
- [ ] **预期**：显示 CustomAlert，提示"請先選擇訓練動作"

#### 4.2 目标重量验证
- [ ] **操作**：选择练习后，输入无效的目标重量（负数或0）
- [ ] **预期**：显示 CustomAlert，提示"請輸入有效數值"

#### 4.3 保存目标重量失败
- [ ] **操作**：在错误状态下尝试保存目标重量
- [ ] **预期**：显示 CustomAlert，提示保存失败

---

## ⚙️ 5. 设置模块 (Settings)

### SettingsScreen.tsx

#### 5.1 清除所有数据确认
- [ ] **操作**：在设置页面，点击"清除所有數據"按钮
- [ ] **预期**：显示 CustomAlert（确认对话框），标题为"Clear All Data"，提供"取消"和"刪除"按钮
- [ ] **样式检查**："刪除"按钮应为红色（destructive 样式）

#### 5.2 清除数据 - 无用户ID错误
- [ ] **操作**：在未登录状态下尝试清除数据
- [ ] **预期**：显示 CustomAlert，提示"No user ID found"

#### 5.3 清除数据成功
- [ ] **操作**：确认清除所有数据（注意：这会清除所有数据并登出）
- [ ] **预期**：显示 CustomAlert，提示"所有數據已清除。您已登出"

#### 5.4 清除数据失败
- [ ] **操作**：在错误状态下尝试清除数据
- [ ] **预期**：显示 CustomAlert，提示清除失败

---

## 📝 6. 模板管理模块 (Templates)

### TemplatesScreen.tsx

#### 6.1 复制预设模板确认
- [ ] **操作**：在模板列表页面，点击预设模板的"复制"按钮
- [ ] **预期**：显示 CustomAlert（确认对话框），询问是否复制模板

#### 6.2 删除模板确认
- [ ] **操作**：在模板列表页面，点击用户模板的"删除"按钮
- [ ] **预期**：显示 CustomAlert（确认对话框），标题为"刪除範本"，提供"取消"和"確定"按钮
- [ ] **样式检查**："確定"按钮应为红色（destructive 样式）

#### 6.3 删除模板成功
- [ ] **操作**：确认删除模板
- [ ] **预期**：显示 CustomAlert，提示"範本已刪除"

#### 6.4 错误提示
- [ ] **操作**：在错误状态下操作模板（如网络错误）
- [ ] **预期**：显示 CustomAlert，显示错误信息

### TemplateEditorScreen.tsx

#### 6.5 未保存更改警告
- [ ] **操作**：在模板编辑器中修改内容，然后点击返回按钮
- [ ] **预期**：显示 CustomAlert（确认对话框），标题为"放棄變更？"，提供"取消"和"放棄"按钮
- [ ] **样式检查**："放棄"按钮应为红色（destructive 样式）

#### 6.6 添加重复练习
- [ ] **操作**：在模板编辑器中，尝试添加一个已存在的练习
- [ ] **预期**：显示 CustomAlert，提示"Exercise Already Added"

#### 6.7 批量添加练习反馈
- [ ] **操作**：在模板编辑器中，批量添加多个练习（包含重复项）
- [ ] **预期**：显示 CustomAlert，显示添加成功和跳过的重复项信息

#### 6.8 创建自定义练习验证
- [ ] **操作**：在模板编辑器中，尝试创建自定义练习但不填写必填字段
- [ ] **预期**：显示 CustomAlert，提示相应的验证错误

#### 6.9 创建自定义练习成功
- [ ] **操作**：正确填写所有字段，创建自定义练习
- [ ] **预期**：显示 CustomAlert，提示"Custom exercise created successfully!"

#### 6.10 保存模板验证错误
- [ ] **操作**：在模板编辑器中，不填写模板名称，直接保存
- [ ] **预期**：显示 CustomAlert，标题为"Validation Error"，显示验证错误列表

#### 6.11 保存模板成功
- [ ] **操作**：正确填写所有信息，保存模板
- [ ] **预期**：显示 CustomAlert，提示"範本創建成功"或"範本更新成功"

#### 6.12 保存模板失败
- [ ] **操作**：在错误状态下尝试保存模板
- [ ] **预期**：显示 CustomAlert，提示"保存範本失敗"

---

## 🏃 7. 实时训练模块 (Live Workout)

### LiveModeScreen.tsx

#### 7.1 完成训练确认
- [ ] **操作**：在实时训练页面，点击"完成訓練"按钮
- [ ] **预期**：显示 CustomAlert（确认对话框），询问是否完成训练

#### 7.2 完成训练成功
- [ ] **操作**：确认完成训练
- [ ] **预期**：显示 CustomAlert，提示"訓練完成！"

#### 7.3 更多选项菜单
- [ ] **操作**：在实时训练页面，点击右上角"更多选项"（三个点）按钮
- [ ] **预期**：显示 CustomAlert（ActionSheet 样式），从底部滑出，包含：
  - "智能替換"
  - "新增練習"
  - "移除練習"
  - "取消"（底部独立按钮）

#### 7.4 移除练习确认
- [ ] **操作**：在"更多选项"中选择"移除練習"
- [ ] **预期**：显示 CustomAlert（确认对话框），询问是否移除当前练习

#### 7.5 移除练习 - 训练为空
- [ ] **操作**：移除最后一个练习
- [ ] **预期**：显示 CustomAlert（ActionSheet 样式），提示训练为空，提供"新增練習"或"完成"选项

#### 7.6 添加练习成功
- [ ] **操作**：在"更多选项"中选择"新增練習"，搜索并选择一个练习
- [ ] **预期**：显示 CustomAlert，提示"練習已添加"

#### 7.7 未完成组数提示
- [ ] **操作**：尝试完成一个没有任何完成组数的练习
- [ ] **预期**：显示 CustomAlert，提示"未完成組數"

---

## 🎨 8. UI/UX 一致性检查

### 8.1 Alert 样式检查
- [ ] **背景色**：所有 Alert 使用 `theme.cardBackground`
- [ ] **文字颜色**：标题使用 `theme.textPrimary`，内容使用 `theme.textSecondary`
- [ ] **按钮颜色**：
  - 默认按钮：`theme.primaryColor`
  - 取消按钮：`theme.borderColor` 或 `theme.textSecondary`
  - 危险按钮：`theme.errorColor`（红色）
- [ ] **圆角**：所有 Alert 有适当的圆角（通常 12-16px）
- [ ] **动画**：Alert 出现/消失有平滑的动画效果

### 8.2 ActionSheet 样式检查
- [ ] **位置**：从底部滑出
- [ ] **背景**：半透明遮罩层
- [ ] **按钮列表**：垂直排列，每个按钮之间有分隔线
- [ ] **取消按钮**：独立显示在列表下方，有更大的间距
- [ ] **危险选项**：使用红色文字（`theme.errorColor`）

### 8.3 响应式检查
- [ ] **不同屏幕尺寸**：在小屏和大屏设备上都能正常显示
- [ ] **横屏模式**：在横屏模式下布局正常
- [ ] **键盘遮挡**：当键盘弹出时，Alert 不会被遮挡

### 8.4 交互检查
- [ ] **点击遮罩关闭**：点击 Alert 外部区域可以关闭（如果支持）
- [ ] **按钮点击反馈**：按钮有点击反馈效果（activeOpacity）
- [ ] **动画流畅性**：所有动画流畅，无卡顿

---

## 🔍 9. 代码检查（可选）

### 9.1 导入检查
- [ ] 所有组件文件已移除 `Alert` 的导入
- [ ] 所有组件文件已添加 `useAppAlert` 的导入
- [ ] 所有组件文件的 JSX 中已添加 `{renderAlert()}`

### 9.2 Hooks 检查
- [ ] `useWorkoutHistory` 已接受回调函数参数
- [ ] `useProgress` 已接受回调函数参数
- [ ] `useTemplateEditor` 已接受回调函数参数
- [ ] `useTemplates` 已接受回调函数参数

### 9.3 类型检查
- [ ] 所有回调函数接口已正确定义
- [ ] TypeScript 编译无错误
- [ ] 所有类型定义完整

---

## 📋 10. 测试场景总结

### 10.1 成功场景
- [ ] 所有成功提示都使用 CustomAlert
- [ ] 成功消息清晰明确
- [ ] 成功提示有适当的自动关闭或手动关闭

### 10.2 错误场景
- [ ] 所有错误提示都使用 CustomAlert
- [ ] 错误消息清晰明确，包含有用的信息
- [ ] 错误提示提供适当的操作选项（如"重試"）

### 10.3 确认场景
- [ ] 所有确认对话框都使用 CustomAlert
- [ ] 确认消息清晰说明操作后果
- [ ] 危险操作（删除、清除数据）使用红色按钮

### 10.4 选项菜单场景
- [ ] 所有选项菜单都使用 CustomAlert（ActionSheet 模式）
- [ ] 菜单选项清晰明确
- [ ] 取消按钮易于访问

---

## ✅ 完成检查

- [ ] 所有检查项已完成
- [ ] 所有 Alert 都已替换为 CustomAlert
- [ ] UI 风格统一，符合设计系统
- [ ] 无系统原生 Alert 出现
- [ ] 所有功能正常工作

---

## 📝 备注

**检查日期**：________________

**检查人员**：________________

**发现问题**：
1. 
2. 
3. 

**修复状态**：
- [ ] 所有问题已修复
- [ ] 部分问题待修复
- [ ] 需要进一步讨论

---

## 🎯 快速检查清单（简化版）

如果时间有限，可以优先检查以下关键场景：

1. [ ] 登录页面的错误提示
2. [ ] 删除操作的确认对话框
3. [ ] 保存成功/失败的提示
4. [ ] 实时训练页面的"更多选项"菜单
5. [ ] 模板编辑器的未保存更改警告

---

**最后更新**：2024年

